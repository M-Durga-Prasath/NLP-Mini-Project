<!DOCTYPE html>
<html lang="ta">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tamil Text Summarizer</title>
    <!-- Tailwind CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-900 text-gray-200 font-sans min-h-screen flex items-center justify-center">
    <div class="w-full max-w-3xl bg-gray-800 rounded-xl shadow-2xl p-8">
        <h1 class="text-center text-3xl font-bold text-cyan-400 mb-8">
            üìù Tamil Text Summarizer
        </h1>

        <!-- Text Input -->
        <label for="textInput" class="block text-gray-300 font-semibold mb-2">Enter Tamil Text:</label>
        <textarea id="textInput" placeholder="‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç ‡Æâ‡Æ∞‡Øà‡ÆØ‡Øà ‡Æá‡Æô‡Øç‡Æï‡Øá ‡Æâ‡Æ≥‡Øç‡Æ≥‡Æø‡Æü‡Æµ‡ØÅ‡ÆÆ‡Øç..."
            class="w-full h-40 p-3 rounded-lg bg-gray-700 text-gray-200 border border-gray-600 focus:outline-none focus:ring-2 focus:ring-cyan-400 mb-6"></textarea>

        <!-- File Input -->
        <label for="fileInput" class="block text-gray-300 font-semibold mb-2">Or Upload a File:</label>
        <input type="file" id="fileInput" accept=".jpg,.png,.jpeg,.pdf"
            class="block w-full text-sm text-gray-300 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-cyan-500 file:text-gray-900 hover:file:bg-cyan-400 mb-6" />

        <!-- Submit Button -->
        <button onclick="summarize()"
            class="w-full bg-cyan-500 hover:bg-cyan-400 text-gray-900 font-bold py-3 px-6 rounded-lg transition duration-300">
            Summarize
        </button>

        <!-- Result Box -->
        <div id="result" class="mt-8 p-5 bg-gray-700 border border-gray-600 rounded-lg min-h-[120px] text-gray-200">
            üîΩ Summarized text will appear here...
        </div>
    </div>

    <script>
        async function summarize() {
            let text = document.getElementById("textInput").value;
            let file = document.getElementById("fileInput").files[0];
            let resultBox = document.getElementById("result");

            let formData = new FormData();
            if (text) formData.append("text", text);
            if (file) formData.append("file", file);

            resultBox.innerText = "‚è≥ Processing...";

            let res = await fetch("http://127.0.0.1:5000/summarize", {
                method: "POST",
                body: formData,
            });

            let data = await res.json();

            if (data.error) {
                resultBox.innerText = "‚ùå " + data.error;
            } else {
                resultBox.innerHTML = `
    <p><strong>‚ú® Abstractive Summary:</strong><br>${data.abstractive_summary}</p>
    <hr class="my-2 border-gray-600"/>
    <p><strong>üîé Extractive Summary:</strong><br>${data.extractive_summary}</p>
  `;
            }

        }
    </script>
</body>

</html>